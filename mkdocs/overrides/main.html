{% extends "base.html" %}

{% block content %}
  {% if page %}
    {% set split_content = super().split('</h1>', 1) %}
    {{ split_content[0] + '</h1>' }}
    <pagecontent>
    {% if page.meta and page.meta.status and page.meta.status == 'draft' %}
      <details class="draft" style="margin: -2em 0 4em;">
        <summary>Taslak Sayfa</summary>
        <p style="font-family: monospace;">Bu sayfanın içeriği henüz tamamlanmamıştır ve içerik düzenlemeleri devam etmektedir.<br />
        Buranın gereğinden uzun taslak olarak kaldığını düşünüyorsanız bizimle <a href="{{ config.site_url | e }}contact/">iletişime</a> geçin.</p>
      </details>
    {% elif page.meta and page.meta.status and page.meta.status == 'deprecated' %}
      <details class="danger" open="open" style="margin: -2em 0 4em;">
        <summary>Kullanım Dışı Sayfa</summary>
        <p><b>Bu sayfa kullanımdan kaldırılmıştır ve burada yazanlar muhtemelen doğru veya güncel değildir!</b></p>
      </details>
    {% endif %}
    <hr style="margin: -2em 0 2em;">
    {{ split_content[1] }}
    </pagecontent>
  {% else %}
    {{ super() }}
  {% endif %}
  <!-- bonus content -->
  <div id="modalElement" class="modal">
    <span id="modalClose" class="close">&times;</span>
    <img id="modalImage" class="modal-content" />
    <div id="modalCaption"></div>
  </div>
{% endblock %}

{% block extrahead %}
  {{ super() }}
  {% if page %}
    <meta property="og:title" content="Witch Love Wiki | {{ page.title | e }}" />
    <meta property="og:description" content="{{ page.meta.description | default(config.site_description) | e }}" />
    <meta property="og:url" content="{{ config.site_url | e }}{{ page.url | e }}" />
    <meta property="og:type" content="website" />
    <meta property="og:image" content="{{ page.meta.image | default('https://witch-love.com/img/embedimage.jpg') | e }}" />
    <meta property="og:locale" content="tr_TR" />
    <meta property="og:locale:alternate" content="en_US" />
    <meta name="theme-color" content="{{ page.meta.color | default('#ecd246') | e }}" />
  {% endif %}
{% endblock %}